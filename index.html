<html ng-app="ADPChallenge">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="icon" type="image/png" href="favicon.png" />
    
    <title>ADP Challenge</title>
    
    <!-- Styles -->
    <link rel="stylesheet" type="text/css" media="screen" href="lib/bootstrap-4.0.0-dist/css/bootstrap.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="css/app.css"/>

    <!-- Scripts -->
    
    <script src="lib/angular-1.5.9/angular.js"></script>
    <script src="lib/angular-1.5.9/angular-messages.js"></script>
    <script src="js/controllers/ADPChallengeCtrl.js"></script>
    <script src="js/services/publicRepositoriesService.js"></script>
    <script src="js/services/subscriptionsService.js"></script>
    <script src="js/filters/headerFilter.js"></script>
    <script src="js/filters/ellipsisFilter.js"></script>
    <script src="js/filters/paginationFilter.js"></script>
    <script src="js/config/configValue.js"></script>
    <script src="js/app.js"></script>
</head>
<body ng-controller="ADPChallengeCtrl">
    <div class="container">
        <div class="d-flex d-flex justify-content-center title_top">
            <h1>{{title}}</h1>
        </div>
    </div>

    <div class="container" ng-if="publicRespositories.length > 0">

        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex flex-wrap">
            <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 input_top">

                <!-- Revisar Parei aqui!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
                <select class="form-control" ng-model="tableLimit">
                    <option value="">Exibir todas linhas</i></option>
                    <option ng-repeat="pageLimit in tablePageLimit">{{pageLimit.limit + ' Linhas'}}</option>
                </select>
                {{tableLimit}}

            </div>

            <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 input_top">
                <input type="text" class="form-control" ng-model="searchRepo" placeholder="Pesquisar...">
            </div>

        </div>

        <!-- Table of repositories -->
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">

            <table class="table table-responsive">
                <tr>
                    <th ng-click="sortWith(key)" ng-repeat="(key, val) in publicRespositories[0]">{{key | nameHeader}}</th>
                </tr>
                <!-- <tr ng-repeat="repo in publicRespositories | filter: searchRepo | orderBy:sortField:sortDirection | pagination:[paginationRow,tableLimit] | limitTo:tableLimit" ng-click="repo.selected = ! repo.selected" ng-class="{'selectedRow': repo.selected}">
                    <td ng-repeat="rowHeader in tableHeader">
                        <span ng-if="rowHeader != 'owner'">{{repo[rowHeader] | ellipsis:20}}</span>
                        <span ng-if="rowHeader === 'owner'">{{repo.owner.login | ellipsis:30}}</span>
                    </td>
                </tr> -->
                <tr ng-repeat="repo in publicRespositories | filter: searchRepo | orderBy:sortField:sortDirection | pagination:[paginationRow,tableLimit] | limitTo:tableLimit" ng-click="repo.selected = ! repo.selected" ng-class="{'selectedRow': repo.selected}">
                    <td ng-repeat="(key, val) in repo">
                        <span ng-if="key != 'owner'" ng-click="sortField = key; sortWith();">{{val | ellipsis:20}}</span>
                        <span ng-if="key === 'owner'" ng-click="sortWith('key')">{{repo.owner.login | ellipsis:30}}</span>
                    </td>
                </tr>
            </table>

            <!-- Paginator -->
            <nav class="d-flex d-flex justify-content-center" aria-label="Paginação">
                <ul class="pagination">
                    <li class="page-item page-link" ng-click="goToPage(0)">Primeira</a></li>
                    <li class="page-item page-link" ng-click="goToPage(page)" ng-repeat="page in paginationList" ng-if="page < (paginationList.length - 1)">{{page}}</a></li>
                    <li class="page-item page-link" ng-click="goToPage(paginationList.length - 1)">Última</a></li>
                </ul>
            </nav>
        </div>
        

    </div>
</body>
</html>